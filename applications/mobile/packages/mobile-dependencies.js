/*
 * 
 */
var Base64={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(c){var a="";var k,h,f,j,g,e,d;var b=0;c=Base64._utf8_encode(c);while(b<c.length){k=c.charCodeAt(b++);h=c.charCodeAt(b++);f=c.charCodeAt(b++);j=k>>2;g=((k&3)<<4)|(h>>4);e=((h&15)<<2)|(f>>6);d=f&63;if(isNaN(h)){e=d=64}else{if(isNaN(f)){d=64}}a=a+this._keyStr.charAt(j)+this._keyStr.charAt(g)+this._keyStr.charAt(e)+this._keyStr.charAt(d)}return a},decode:function(c){var a="";var k,h,f;var j,g,e,d;var b=0;c=c.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(b<c.length){j=this._keyStr.indexOf(c.charAt(b++));g=this._keyStr.indexOf(c.charAt(b++));e=this._keyStr.indexOf(c.charAt(b++));d=this._keyStr.indexOf(c.charAt(b++));k=(j<<2)|(g>>4);h=((g&15)<<4)|(e>>2);f=((e&3)<<6)|d;a=a+String.fromCharCode(k);if(e!=64){a=a+String.fromCharCode(h)}if(d!=64){a=a+String.fromCharCode(f)}}a=Base64._utf8_decode(a);return a},_utf8_encode:function(b){b=b.replace(/\r\n/g,"\n");var a="";for(var e=0;e<b.length;e++){var d=b.charCodeAt(e);if(d<128){a+=String.fromCharCode(d)}else{if((d>127)&&(d<2048)){a+=String.fromCharCode((d>>6)|192);a+=String.fromCharCode((d&63)|128)}else{a+=String.fromCharCode((d>>12)|224);a+=String.fromCharCode(((d>>6)&63)|128);a+=String.fromCharCode((d&63)|128)}}}return a},_utf8_decode:function(a){var b="";var d=0;var e=c1=c2=0;while(d<a.length){e=a.charCodeAt(d);if(e<128){b+=String.fromCharCode(e);d++}else{if((e>191)&&(e<224)){c2=a.charCodeAt(d+1);b+=String.fromCharCode(((e&31)<<6)|(c2&63));d+=2}else{c2=a.charCodeAt(d+1);c3=a.charCodeAt(d+2);b+=String.fromCharCode(((e&15)<<12)|((c2&63)<<6)|(c3&63));d+=3}}}return b}};if(typeof(XML)=="undefined"){XML=function(){}}XML.ObjTree=function(){return this};XML.ObjTree.VERSION="0.24";XML.ObjTree.prototype.xmlDecl='<?xml version="1.0" encoding="UTF-8" ?>\n';XML.ObjTree.prototype.attr_prefix="-";XML.ObjTree.prototype.overrideMimeType="text/xml";XML.ObjTree.prototype.parseXML=function(c){var b;if(window.DOMParser){var a=new DOMParser();var d=a.parseFromString(c,"application/xml");if(!d){return}b=d.documentElement}else{if(window.ActiveXObject){a=new ActiveXObject("Microsoft.XMLDOM");a.async=false;a.loadXML(c);b=a.documentElement}}if(!b){return}return this.parseDOM(b)};XML.ObjTree.prototype.parseHTTP=function(b,k,h){var a={};for(var g in k){a[g]=k[g]}if(!a.method){if(typeof(a.postBody)=="undefined"&&typeof(a.postbody)=="undefined"&&typeof(a.parameters)=="undefined"){a.method="get"}else{a.method="post"}}if(h){a.asynchronous=true;var f=this;var c=h;var d=a.onComplete;a.onComplete=function(m){var l;if(m&&m.responseXML&&m.responseXML.documentElement){l=f.parseDOM(m.responseXML.documentElement)}else{if(m&&m.responseText){l=f.parseXML(m.responseText)}}c(l,m);if(d){d(m)}}}else{a.asynchronous=false}var j;if(typeof(HTTP)!="undefined"&&HTTP.Request){a.uri=b;var e=new HTTP.Request(a);if(e){j=e.transport}}else{if(typeof(Ajax)!="undefined"&&Ajax.Request){var e=new Ajax.Request(b,a);if(e){j=e.transport}}}if(h){return j}if(j&&j.responseXML&&j.responseXML.documentElement){return this.parseDOM(j.responseXML.documentElement)}else{if(j&&j.responseText){return this.parseXML(j.responseText)}}};XML.ObjTree.prototype.parseDOM=function(a){if(!a){return}this.__force_array={};if(this.force_array){for(var d=0;d<this.force_array.length;d++){this.__force_array[this.force_array[d]]=1}}var c=this.parseElement(a);if(this.__force_array[a.nodeName]){c=[c]}if(a.nodeType!=11){var b={};b[a.nodeName]=c;c=b}return c};XML.ObjTree.prototype.parseElement=function(e){if(e.nodeType==7){return}if(e.nodeType==3||e.nodeType==4){var f=e.nodeValue.match(/[^\x00-\x20]/);if(f==null){return}return e.nodeValue}var b;var d={};if(e.attributes&&e.attributes.length){b={};for(var g=0;g<e.attributes.length;g++){var j=e.attributes[g].nodeName;if(typeof(j)!="string"){continue}var c=e.attributes[g].nodeValue;if(!c){continue}j=this.attr_prefix+j;if(typeof(d[j])=="undefined"){d[j]=0}d[j]++;this.addNode(b,j,d[j],c)}}if(e.childNodes&&e.childNodes.length){var h=true;if(b){h=false}for(var g=0;g<e.childNodes.length&&h;g++){var a=e.childNodes[g].nodeType;if(a==3||a==4){continue}h=false}if(h){if(!b){b=""}for(var g=0;g<e.childNodes.length;g++){b+=e.childNodes[g].nodeValue}}else{if(!b){b={}}for(var g=0;g<e.childNodes.length;g++){var j=e.childNodes[g].nodeName;if(typeof(j)!="string"){continue}var c=this.parseElement(e.childNodes[g]);if(!c){continue}if(typeof(d[j])=="undefined"){d[j]=0}d[j]++;this.addNode(b,j,d[j],c)}}}return b};XML.ObjTree.prototype.addNode=function(c,a,b,d){if(this.__force_array[a]){if(b==1){c[a]=[]}c[a][c[a].length]=d}else{if(b==1){c[a]=d}else{if(b==2){c[a]=[c[a],d]}else{c[a][c[a].length]=d}}}};XML.ObjTree.prototype.writeXML=function(a){var b=this.hash_to_xml(null,a);return this.xmlDecl+b};XML.ObjTree.prototype.hash_to_xml=function(c,b){var f=[];var a=[];for(var e in b){if(!b.hasOwnProperty(e)){continue}var h=b[e];if(e.charAt(0)!=this.attr_prefix){if(typeof(h)=="undefined"||h==null){f[f.length]="<"+e+" />"}else{if(typeof(h)=="object"&&h.constructor==Array){f[f.length]=this.array_to_xml(e,h)}else{if(typeof(h)=="object"){f[f.length]=this.hash_to_xml(e,h)}else{f[f.length]=this.scalar_to_xml(e,h)}}}}else{a[a.length]=" "+(e.substring(1))+'="'+(this.xml_escape(h))+'"'}}var g=a.join("");var d=f.join("");if(typeof(c)=="undefined"||c==null){}else{if(f.length>0){if(d.match(/\n/)){d="<"+c+g+">\n"+d+"</"+c+">\n"}else{d="<"+c+g+">"+d+"</"+c+">\n"}}else{d="<"+c+g+" />\n"}}return d};XML.ObjTree.prototype.array_to_xml=function(b,e){var a=[];for(var c=0;c<e.length;c++){var d=e[c];if(typeof(d)=="undefined"||d==null){a[a.length]="<"+b+" />"}else{if(typeof(d)=="object"&&d.constructor==Array){a[a.length]=this.array_to_xml(b,d)}else{if(typeof(d)=="object"){a[a.length]=this.hash_to_xml(b,d)}else{a[a.length]=this.scalar_to_xml(b,d)}}}}return a.join("")};XML.ObjTree.prototype.scalar_to_xml=function(a,b){if(a=="#text"){return this.xml_escape(b)}else{return"<"+a+">"+this.xml_escape(b)+"</"+a+">\n"}};XML.ObjTree.prototype.xml_escape=function(a){return String(a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")};
/*
 * simplate-js v1.1 
 * Copyright 2010, Michael Morton 
 * 
 * MIT Licensed - See LICENSE.txt
 */
(function(){var c={tags:{begin:"{%",end:"%}"}};var b={};var e=function(g,f,j){if(j){for(var h in j){g[h]=j[h]}}if(f){for(var h in f){g[h]=f[h]}}return g};function d(f){if(typeof f!=="string"){return f}return f.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}var a=function(q,g){if(q.join){q=q.join("")}if(b[q]){return b[q]}var g=e({},g,c);if("is,ie".split(/(,)/).length!==3){var l=[];var p=q.split(g.tags.begin);for(var j=0;j<p.length;j++){l.push.apply(l,p[j].split(g.tags.end))}}else{var n=new RegExp(g.tags.begin+"(.*?)"+g.tags.end);var l=q.split(n)}for(var j=1;j<l.length;j+=2){if(l[j].length>0){var h=l[j].charAt(0);switch(h){case"#":l[j]="";break;case"=":l[j]="__p("+l[j].substr(1)+");";break;case":":l[j]="__p(__s.encode("+l[j].substr(1)+"));";break;case"$":l[j]="try {__p("+l[j].substr(1)+");} catch (__e) {}";break;case"!":l[j]="__p("+l[j].substr(1).replace(/^\s+|\s+$/g,"")+".apply(__v));";break;default:break}}}for(var j=0;j<l.length;j+=2){l[j]="__p('"+l[j].replace(/'/g,"\\'").replace(/\n/g,"\\n")+"');"}var f=["var __r = [], $ = __v || {}, __s = Simplate, __p = function() { __r.push.apply(__r, arguments); };","with ($) {",l.join(""),"}","return __r.join('');"];var m;try{m=new Function("__v",f.join(""))}catch(k){m=function(o){return k.message}}return(b[q]=m)};Simplate=window.Simplate=function(f,g){this.fn=a(f,g)};Simplate.prototype={apply:function(g,f){return this.fn.call(f||this,g)}};Simplate.options=c;Simplate.encode=d})();(function(){var r=20;var x=0;var F=null;var t=null;var u=0;var k=0;var A=location.hash;var f="#_";var p=[];var m=0;var I;var z=false;var J="portrait";var C="landscape";window.iui={animOn:true,delayInit:false,httpHeaders:{"X-Requested-With":"XMLHttpRequest"},getCurrentPage:function(){return F},getPreviousPage:function(){if(p.length>2){return o(p[p.length-2])}return null},getCurrentDialog:function(){return t},getPageHistory:function(){return p},showPage:function(L,K){if(L){if(t){t.removeAttribute("selected");q("blur",t);t=null}if(d(L,"dialog")){q("focus",L);y(L)}else{q("load",L);var M=F;q("blur",F);F=L;q("focus",L);if(M){if(K){q("unload",M)}setTimeout(c,0,M,L,K)}else{w(L,M)}}}},showPageById:function(L){var N=o(L);if(N){var M=p.indexOf(L);var K=M!=-1;if(K){p.splice(M)}iui.showPage(N,K)}},goBack:function(){p.pop();var K=p.pop();var L=o(K);iui.showPage(L,true)},showPageByHref:function(L,M,P,O,K){function N(Q){if(Q.readyState==4){var R=document.createElement("div");R.innerHTML=Q.responseText;q("beforeinsert",document.body,{fragment:R});if(O){D(O,R)}else{iui.insertPages(R)}if(K){setTimeout(K,1000,true)}}}iui.ajax(L,M,P,N)},ajax:function(M,L,Q,K){var O=new XMLHttpRequest();Q=Q?Q.toUpperCase():"GET";if(L&&Q=="GET"){M=M+"?"+iui.param(L)}O.open(Q,M,true);if(K){O.onreadystatechange=function(){K(O)}}var N=null;if(L&&Q!="GET"){O.setRequestHeader("Content-Type","application/x-www-form-urlencoded");N=iui.param(L)}for(var P in iui.httpHeaders){O.setRequestHeader(P,iui.httpHeaders[P])}O.send(N)},param:function(M){var L=[];for(var K in M){L[L.length]=encodeURIComponent(K)+"="+encodeURIComponent(M[K])}return L.join("&").replace(/%20/g,"+")},insertPages:function(Q){var L=Q.childNodes;var N;for(var M=0;M<L.length;++M){var P=L[M];if(P.nodeType==1){if(!P.id){P.id="__"+(++m)+"__"}var O=o(P.id);var K;if(O){O.parentNode.replaceChild(P,O);K=o(P.id)}else{K=document.body.appendChild(P)}q("afterinsert",document.body,{insertedNode:K});if(P.getAttribute("selected")=="true"||!N){N=P}--M}}if(N){iui.showPage(N)}},getSelectedPage:function(){for(var K=document.body.firstChild;K;K=K.nextSibling){if(K.nodeType==1&&K.getAttribute("selected")=="true"){return K}}},isNativeUrl:function(K){for(var L=0;L<iui.nativeUrlPatterns.length;L++){if(K.match(iui.nativeUrlPatterns[L])){return true}}return false},nativeUrlPatterns:[new RegExp("^http://maps.google.com/maps?"),new RegExp("^mailto:"),new RegExp("^tel:"),new RegExp("^http://www.youtube.com/watch\\?v="),new RegExp("^http://www.youtube.com/v/"),new RegExp("^javascript:"),],hasClass:function(K,L){var M=new RegExp("(^|\\s)"+L+"($|\\s)");return M.exec(K.getAttribute("class"))!=null},addClass:function(K,L){if(!iui.hasClass(K,L)){K.className+=" "+L}},removeClass:function(K,L){if(iui.hasClass(K,L)){var M=new RegExp("(\\s|^)"+L+"(\\s|$)");K.className=K.className.replace(M," ")}},init:function(){var L=iui.getSelectedPage();var K=E();if(L){iui.showPage(L)}if(K&&(K!=L)){iui.showPage(K)}setTimeout(s,0);if(typeof window.onorientationchange=="object"){window.onorientationchange=j;z=true;setTimeout(j,0)}setTimeout(h,0);I=setInterval(h,300)}};addEventListener("load",function(K){if(!iui.delayInit){iui.init()}},false);addEventListener("unload",function(K){return},false);addEventListener("click",function(N){var M=a(N.target,"a");if(M){function K(){M.removeAttribute("selected")}if(M.href&&M.hash&&M.hash!="#"&&!M.target){M.setAttribute("selected","true");iui.showPage(o(M.hash.substr(1)));setTimeout(K,500)}else{if(M==o("backButton")){iui.goBack()}else{if(M.getAttribute("type")=="submit"){var L=a(M,"form");if(L.target=="_self"){L.submit();return}v(L)}else{if(M.getAttribute("type")=="cancel"){g(a(M,"form"))}else{if(M.target=="_replace"){M.setAttribute("selected","progress");iui.showPageByHref(M.href,null,"GET",M,K)}else{if(iui.isNativeUrl(M.href)){return}else{if(M.target=="_webapp"){location.href=M.href}else{if(!M.target){M.setAttribute("selected","progress");iui.showPageByHref(M.href,null,"GET",null,K)}else{return}}}}}}}}N.preventDefault()}},true);addEventListener("click",function(K){var L=a(K.target,"div");if(L&&d(L,"toggle")){L.setAttribute("toggled",L.getAttribute("toggled")!="true");K.preventDefault()}},true);function q(M,P,L,K,O){if(P){var N=document.createEvent("UIEvent");N.initEvent(M,K||false,O||false);if(L){for(i in L){N[i]=L[i]}}P.dispatchEvent(N)}}function E(){var L;var K=location.hash.match(/#_([^\?_]+)/);if(K){L=K[1]}if(L){L=o(L)}return L}function j(){var K=window.orientation;switch(K){case 0:G(J);break;case 90:case -90:G(C);break}}function h(){if(!z){if((window.innerWidth!=u)||(window.innerHeight!=k)){u=window.innerWidth;k=window.innerHeight;var L=(u<k)?J:C;G(L)}}if(location.hash!=A){var K=location.hash.substr(f.length);iui.showPageById(K)}}function G(K){document.body.setAttribute("orient",K);if(K==J){iui.removeClass(document.body,C);iui.addClass(document.body,J)}else{if(K==C){iui.removeClass(document.body,J);iui.addClass(document.body,C)}else{iui.removeClass(document.body,J);iui.removeClass(document.body,C)}}setTimeout(scrollTo,100,0,1)}function y(K){t=K;K.setAttribute("selected","true");if(d(K,"dialog")){B(K)}}function B(K){if(typeof K.onsubmit==="undefined"){K.onsubmit=function(L){L.preventDefault();v(K)}}}function g(K){K.removeAttribute("selected")}function w(P,Q){if(!P.id){P.id="__"+(++m)+"__"}location.hash=A=f+P.id;p.push(P.id);var O=o("pageTitle");if(P.title){O.innerHTML=P.title}var L=P.getAttribute("ttlclass");O.className=L?L:"";if(P.localName.toLowerCase()=="form"&&!P.target){B(P)}var M=o("backButton");if(M){var K=o(p[p.length-2]);if(K&&!P.getAttribute("hideBackButton")){M.style.display="inline";M.innerHTML=K.title?K.title:"Back";var N=K.getAttribute("bbclass");M.className=(N)?"button "+N:"button"}else{M.style.display="none"}}}function c(O,N,L){var M=(L?O:N).getAttribute("axis");clearInterval(I);q("beforetransition",O,{out:true},true);q("beforetransition",N,{out:false},true);if(l()&&M!="y"){b(O,N,L,K)}else{e(O,N,L,M,K)}function K(){if(!d(N,"dialog")){O.removeAttribute("selected")}I=setInterval(h,300);setTimeout(w,0,N,O);O.removeEventListener("webkitTransitionEnd",K,false);q("aftertransition",O,{out:true},true);q("aftertransition",N,{out:false},true)}}function l(){return(iui.animOn)&&(typeof WebKitCSSMatrix=="object")}function e(Q,P,M,N,L){if(N=="y"){(M?Q:P).style.top="100%"}else{P.style.left="100%"}scrollTo(0,1);P.setAttribute("selected","true");var O=100;K();var R=setInterval(K,x);function K(){O-=r;if(O<=0){O=0;clearInterval(R);L()}if(N=="y"){M?Q.style.top=(100-O)+"%":P.style.top=O+"%"}else{Q.style.left=(M?(100-O):(O-100))+"%";P.style.left=(M?-O:O)+"%"}}}function b(P,O,L,K){O.style.webkitTransitionDuration="0ms";var M="translateX("+(L?"-":"")+window.innerWidth+"px)";var N="translateX("+(L?"100%":"-100%")+")";O.style.webkitTransform=M;O.setAttribute("selected","true");O.style.webkitTransitionDuration="";function Q(){P.style.webkitTransform=N;O.style.webkitTransform="translateX(0%)"}P.addEventListener("webkitTransitionEnd",K,false);setTimeout(Q,0)}function s(){var K=document.createElement("div");K.id="preloader";document.body.appendChild(K)}function v(L){iui.addClass(L,"progress");iui.showPageByHref(L.action,H(L),L.method||"GET",null,K);function K(){iui.removeClass(L,"progress")}}function H(M){function L(N){for(var O=0;O<N.length;++O){if(N[O].name){K[N[O].name]=N[O].value}}}var K={};L(M.getElementsByTagName("input"));L(M.getElementsByTagName("textarea"));L(M.getElementsByTagName("select"));L(M.getElementsByTagName("button"));return K}function a(L,K){while(L&&(L.nodeType!=1||L.localName.toLowerCase()!=K)){L=L.parentNode}return L}function d(K,L){return iui.hasClass(K,L)}function D(L,O){var N=L.parentNode;var M=L;while(N.parentNode!=document.body){N=N.parentNode;M=M.parentNode}N.removeChild(M);var K;while(O.firstChild){K=N.appendChild(O.firstChild);q("afterinsert",document.body,{insertedNode:K})}}function o(K){return document.getElementById(K)}function n(){console.log.apply(console,arguments)}})();Date.getMonthNumberFromName=function(b){var e=Date.CultureInfo.monthNames,a=Date.CultureInfo.abbreviatedMonthNames,d=b.toLowerCase();for(var c=0;c<e.length;c++){if(e[c].toLowerCase()==d||a[c].toLowerCase()==d){return c}}return -1};Date.getDayNumberFromName=function(b){var f=Date.CultureInfo.dayNames,a=Date.CultureInfo.abbreviatedDayNames,e=Date.CultureInfo.shortestDayNames,d=b.toLowerCase();for(var c=0;c<f.length;c++){if(f[c].toLowerCase()==d||a[c].toLowerCase()==d){return c}}return -1};Date.isLeapYear=function(a){return(((a%4===0)&&(a%100!==0))||(a%400===0))};Date.getDaysInMonth=function(a,b){return[31,(Date.isLeapYear(a)?29:28),31,30,31,30,31,31,30,31,30,31][b]};Date.getTimezoneOffset=function(a,b){return(b||false)?Date.CultureInfo.abbreviatedTimeZoneDST[a.toUpperCase()]:Date.CultureInfo.abbreviatedTimeZoneStandard[a.toUpperCase()]};Date.getTimezoneAbbreviation=function(b,d){var c=(d||false)?Date.CultureInfo.abbreviatedTimeZoneDST:Date.CultureInfo.abbreviatedTimeZoneStandard,a;for(a in c){if(c[a]===b){return a}}return null};Date.prototype.clone=function(){return new Date(this.getTime())};Date.prototype.compareTo=function(a){if(isNaN(this)){throw new Error(this)}if(a instanceof Date&&!isNaN(a)){return(this>a)?1:(this<a)?-1:0}else{throw new TypeError(a)}};Date.prototype.equals=function(a){return(this.compareTo(a)===0)};Date.prototype.between=function(c,a){var b=this.getTime();return b>=c.getTime()&&b<=a.getTime()};Date.prototype.addMilliseconds=function(a){this.setMilliseconds(this.getMilliseconds()+a);return this};Date.prototype.addSeconds=function(a){return this.addMilliseconds(a*1000)};Date.prototype.addMinutes=function(a){return this.addMilliseconds(a*60000)};Date.prototype.addHours=function(a){return this.addMilliseconds(a*3600000)};Date.prototype.addDays=function(a){return this.addMilliseconds(a*86400000)};Date.prototype.addWeeks=function(a){return this.addMilliseconds(a*604800000)};Date.prototype.addMonths=function(a){var b=this.getDate();this.setDate(1);this.setMonth(this.getMonth()+a);this.setDate(Math.min(b,this.getDaysInMonth()));return this};Date.prototype.addYears=function(a){return this.addMonths(a*12)};Date.prototype.add=function(b){if(typeof b=="number"){this._orient=b;return this}var a=b;if(a.millisecond||a.milliseconds){this.addMilliseconds(a.millisecond||a.milliseconds)}if(a.second||a.seconds){this.addSeconds(a.second||a.seconds)}if(a.minute||a.minutes){this.addMinutes(a.minute||a.minutes)}if(a.hour||a.hours){this.addHours(a.hour||a.hours)}if(a.month||a.months){this.addMonths(a.month||a.months)}if(a.year||a.years){this.addYears(a.year||a.years)}if(a.day||a.days){this.addDays(a.day||a.days)}return this};Date._validate=function(d,c,a,b){if(typeof d!="number"){throw new TypeError(d+" is not a Number.")}else{if(d<c||d>a){throw new RangeError(d+" is not a valid value for "+b+".")}}return true};Date.validateMillisecond=function(a){return Date._validate(a,0,999,"milliseconds")};Date.validateSecond=function(a){return Date._validate(a,0,59,"seconds")};Date.validateMinute=function(a){return Date._validate(a,0,59,"minutes")};Date.validateHour=function(a){return Date._validate(a,0,23,"hours")};Date.validateDay=function(c,a,b){return Date._validate(c,1,Date.getDaysInMonth(a,b),"days")};Date.validateMonth=function(a){return Date._validate(a,0,11,"months")};Date.validateYear=function(a){return Date._validate(a,1,9999,"seconds")};Date.prototype.set=function(b){var a=b;if(!a.millisecond&&a.millisecond!==0){a.millisecond=-1}if(!a.second&&a.second!==0){a.second=-1}if(!a.minute&&a.minute!==0){a.minute=-1}if(!a.hour&&a.hour!==0){a.hour=-1}if(!a.day&&a.day!==0){a.day=-1}if(!a.month&&a.month!==0){a.month=-1}if(!a.year&&a.year!==0){a.year=-1}if(a.millisecond!=-1&&Date.validateMillisecond(a.millisecond)){this.addMilliseconds(a.millisecond-this.getMilliseconds())}if(a.second!=-1&&Date.validateSecond(a.second)){this.addSeconds(a.second-this.getSeconds())}if(a.minute!=-1&&Date.validateMinute(a.minute)){this.addMinutes(a.minute-this.getMinutes())}if(a.hour!=-1&&Date.validateHour(a.hour)){this.addHours(a.hour-this.getHours())}if(a.month!==-1&&Date.validateMonth(a.month)){this.addMonths(a.month-this.getMonth())}if(a.year!=-1&&Date.validateYear(a.year)){this.addYears(a.year-this.getFullYear())}if(a.day!=-1&&Date.validateDay(a.day,this.getFullYear(),this.getMonth())){this.addDays(a.day-this.getDate())}if(a.timezone){this.setTimezone(a.timezone)}if(a.timezoneOffset){this.setTimezoneOffset(a.timezoneOffset)}return this};Date.prototype.clearTime=function(){this.setHours(0);this.setMinutes(0);this.setSeconds(0);this.setMilliseconds(0);return this};Date.prototype.isLeapYear=function(){var a=this.getFullYear();return(((a%4===0)&&(a%100!==0))||(a%400===0))};Date.prototype.isWeekday=function(){return !(this.is().sat()||this.is().sun())};Date.prototype.getDaysInMonth=function(){return Date.getDaysInMonth(this.getFullYear(),this.getMonth())};Date.prototype.moveToFirstDayOfMonth=function(){return this.set({day:1})};Date.prototype.moveToLastDayOfMonth=function(){return this.set({day:this.getDaysInMonth()})};Date.prototype.moveToDayOfWeek=function(a,b){var c=(a-this.getDay()+7*(b||+1))%7;return this.addDays((c===0)?c+=7*(b||+1):c)};Date.prototype.moveToMonth=function(c,a){var b=(c-this.getMonth()+12*(a||+1))%12;return this.addMonths((b===0)?b+=12*(a||+1):b)};Date.prototype.getDayOfYear=function(){return Math.floor((this-new Date(this.getFullYear(),0,1))/86400000)};Date.prototype.getWeekOfYear=function(a){var h=this.getFullYear(),c=this.getMonth(),f=this.getDate();var k=a||Date.CultureInfo.firstDayOfWeek;var e=7+1-new Date(h,0,1).getDay();if(e==8){e=1}var b=((Date.UTC(h,c,f,0,0,0)-Date.UTC(h,0,1,0,0,0))/86400000)+1;var j=Math.floor((b-e+7)/7);if(j===k){h--;var g=7+1-new Date(h,0,1).getDay();if(g==2||g==8){j=53}else{j=52}}return j};Date.prototype.isDST=function(){console.log("isDST");return this.toString().match(/(E|C|M|P)(S|D)T/)[2]=="D"};Date.prototype.getTimezone=function(){return Date.getTimezoneAbbreviation(this.getUTCOffset,this.isDST())};Date.prototype.setTimezoneOffset=function(b){var a=this.getTimezoneOffset(),c=Number(b)*-6/10;this.addMinutes(c-a);return this};Date.prototype.setTimezone=function(a){return this.setTimezoneOffset(Date.getTimezoneOffset(a))};Date.prototype.getUTCOffset=function(){var b=this.getTimezoneOffset()*-10/6,a;if(b<0){a=(b-10000).toString();return a[0]+a.substr(2)}else{a=(b+10000).toString();return"+"+a.substr(1)}};Date.prototype.getDayName=function(a){return a?Date.CultureInfo.abbreviatedDayNames[this.getDay()]:Date.CultureInfo.dayNames[this.getDay()]};Date.prototype.getMonthName=function(a){return a?Date.CultureInfo.abbreviatedMonthNames[this.getMonth()]:Date.CultureInfo.monthNames[this.getMonth()]};Date.prototype._toString=Date.prototype.toString;Date.prototype.toString=function(c){var a=this;var b=function b(d){return(d.toString().length==1)?"0"+d:d};return c?c.replace(/dd?d?d?|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|zz?z?/g,function(d){switch(d){case"hh":return b(a.getHours()<13?a.getHours():(a.getHours()-12));case"h":return a.getHours()<13?a.getHours():(a.getHours()-12);case"HH":return b(a.getHours());case"H":return a.getHours();case"mm":return b(a.getMinutes());case"m":return a.getMinutes();case"ss":return b(a.getSeconds());case"s":return a.getSeconds();case"yyyy":return a.getFullYear();case"yy":return a.getFullYear().toString().substring(2,4);case"dddd":return a.getDayName();case"ddd":return a.getDayName(true);case"dd":return b(a.getDate());case"d":return a.getDate().toString();case"MMMM":return a.getMonthName();case"MMM":return a.getMonthName(true);case"MM":return b((a.getMonth()+1));case"M":return a.getMonth()+1;case"t":return a.getHours()<12?Date.CultureInfo.amDesignator.substring(0,1):Date.CultureInfo.pmDesignator.substring(0,1);case"tt":return a.getHours()<12?Date.CultureInfo.amDesignator:Date.CultureInfo.pmDesignator;case"zzz":case"zz":case"z":return""}}):this._toString()};